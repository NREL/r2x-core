# yaml-language-server: $schema=https://raw.githubusercontent.com/ast-grep/ast-grep/main/schemas/rule.json

id: import-from-result-to-rust-ok
message: Use rust_ok for Result/Ok/Err imports
severity: warning
language: Python
rule:
  any:
    - pattern: from .result import $NAMES
    - pattern: from ..result import $NAMES
    - pattern: from r2x_core.result import $NAMES
fix: from rust_ok import $NAMES
---
id: import-relative-err-ok-result
message: Import Err/Ok/Result from rust_ok
severity: warning
language: Python
rule:
  pattern: from . import Err, Ok, Result
fix: from rust_ok import Err, Ok, Result
---
id: import-relative-result
message: Import Result from rust_ok
severity: warning
language: Python
rule:
  pattern: from . import Result
fix: from rust_ok import Result
---
id: import-r2x-core-err-ok
message: Import Err/Ok directly from rust_ok
severity: warning
language: Python
rule:
  pattern: from r2x_core import Err, Ok
fix: from rust_ok import Err, Ok
---
id: import-r2x-core-ok
message: Import Ok directly from rust_ok
severity: warning
language: Python
rule:
  pattern: from r2x_core import Ok
fix: from rust_ok import Ok
---
id: import-r2x-core-err-ok-rule
message: Split Err/Ok imports to rust_ok
severity: warning
language: Python
rule:
  pattern: from r2x_core import Err, Ok, Rule
fix: |-
  from rust_ok import Err, Ok
  from r2x_core import Rule
---
id: import-docs-baseparser-ok-err
message: Route BaseParser examples to rust_ok
severity: warning
language: Python
rule:
  pattern: from r2x_core import BaseParser, Ok, Err, ParserError
fix: |-
  from rust_ok import Err, Ok
  from r2x_core import BaseParser, ParserError
---
id: import-docs-baseexporter-ok-err
message: Route BaseExporter examples to rust_ok
severity: warning
language: Python
rule:
  pattern: from r2x_core import BaseExporter, Ok, Err, ExporterError
fix: |-
  from rust_ok import Err, Ok
  from r2x_core import BaseExporter, ExporterError
